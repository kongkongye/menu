---
layout: post
title:  附属
categories: 专题
author: kongkongye
---

* content
{:toc}

附属是什么?
附属主要配合第三方菜单使用,给菜单提供变量.
比如你要制作一个附魔菜单,里面需要获取附魔列表,如果放在服务端,那就是一个`插件`(提供服务器列表变量-附魔列表),
如果放在客户端,那就是一个`附属`(提供本地列表变量-附魔列表).
也就是说,如果你要制作`本地菜单`,这个菜单需要`额外的变量`,你又有客户端`MOD开发能力`,那么你可以参阅此文档.




## 正确的开发方式
附属比较特殊,你不仅需要会JAVA编程,还要了解MOD开发.

事实上,附属是一个新的概念,它被设计为:

1. 小的可执行代码,因此代码少,文件小,可随菜单一起发布
2. 只依赖此菜单MOD,不依赖其它mod,第三方jar包或其它附属
3. 不会产生文件
4. 可动态地加载卸载(因为第三方菜单可以动态的启动与禁用),这要求附属尽量小心地使用静态变量

附属的开发最大的问题在于mc客户端代码是混淆过的,因此开发需要用跟MOD开发一样的`姿势`,
即你假装你是在开发MOD,配置相关MOD开发环境,最终将开发产出的jar包当作附属来用就行了.

~~你想的与希望的正常的开发姿势:
将菜单MOD的jar包添加为依赖,然后开发编译成jar包就是附属了.
但最大的问题在于游戏客户端jar是混淆过的,因此你需要面对混淆过的方法名(像func_123之类的),难以开发.~~

## 常见问题
#### 为什么只有第三方菜单需要附属?
1. `本地菜单`由客户端MOD注册,而客户端MOD可以注册各种变量,因此不需要附属.
2. `服务器菜单`由服务端插件注册,而服务端插件也可以注册各种变量,因此不需要附属.
