---
layout: post
title:  进阶教程
categories: 教程
author: kongkongye
---

* content
{:toc}

主要给我的世界`玩家`查阅,介绍如何在客户端安装与使用此菜单MOD.




## MOD与插件通信的实现方式
此菜单MOD通过`插件频道(Plugin Channel)`实现客户端MOD与服务端插件的通信,注册的插件频道名为`KKY|MENU`.

## 无空格格式
这是一种字符串格式,它的作用是防止字符串中出现空格,格式要求如下:

* 百分号`%`必须转换成`%%`
* 空格` `必须转换成`%0`

#### 使用代码
* 可以使用方法`NoSpaceFormatUtil.encode(原值)`将原值编码为格式化值
* 可以使用方法`NoSpaceFormatUtil.decode(格式化值)`将格式化值解码为原值

#### 非使用代码
手动转换,如字符串`你好 xxx`必须写成`你好%0xxx`.

## 同类比较
作为我的世界传统的,用的最多的就是`命令`了,这种方式最大的问题就是麻烦,
不管是记忆命令还是输入命令,尤其对于新人来说.

为了简化玩家操作,后面逐渐流行起了`物品界面`,各种插件都喜欢用物品界面,
比较通用的物品界面插件比如`ChestCommand`箱子命令插件.
但从开发者角度,这种物品界面很危险,除非整个服务器涉及物品界面的插件都是统一原创的,
或者使用的都是最流行的物品界面插件,否则插件之间可能产生冲突,
导致的问题就是刷物品,这是非常严重的.
这是因为这些物品界面使用的物品都是真实的,靠的是插件进行限制,因此一个不小心就会刷物品.

其它小众的界面这里不说(包括本人此前开发的聊天栏界面与计分板界面),这里说说这个菜单MOD的优点,主要有:

1. `带宽占用少`: 尤其是跟物品界面比较起来,因为物品界面主要是大量的物品,而物品传输耗费的带宽是比较大的.

    此菜单MOD的界面是`客户端解析`的,服务器只需要传递界面配置文件给客户端(而且界面配置文件会缓存,不用重复请求),
    需要请求服务器的只有刷新界面时,会请求一下需要的服务器变量值,条件值以及物品值.
    并且很多时候,很多本地菜单并不包含服务器变量,不需要请求服务器来展示界面.
    因此在带宽占用上,此菜单MOD是极少的.

2. `安全`: 此菜单MOD基本上是文字界面,点击按钮执行的也是命令,显示的物品也是'假的',并不会产生`刷物品`的问题!
          玩家修改客户端菜单配置也完全不会越过权限,比如给自己设置OP.
          整个菜单都是'虚'的东西,并不会与游戏中其它MOD或插件产生功能上的冲突.
3. `简便`: 对于菜单使用者的`玩家`来说,菜单的使用非常简单,无非各种点击与输入文字,没有学习成本.
          尤其跟传统的命令比较起来,菜单显得更加直观.
4. `扩展性强`: 玩家使用此菜单MOD,在单机可以使用本地菜单,进服务器可以使用服务器菜单(如果服务器装有对应的菜单插件),
              还可以下载其它人发布的菜单.同样一个功能,可能包含在不同的菜单中,以不同的角度来展示.
